{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nlet formData = { email: '', message: '' };\n\nconst saveFormData = data => {\n  try {\n    localStorage.setItem('feedback-form-state', JSON.stringify(data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst loadFormData = () => {\n  try {\n    return JSON.parse(localStorage.getItem('feedback-form-state'));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst onLoadFormField = formFields => {\n  const formDataFromLS = loadFormData();\n\n  if (!formDataFromLS) return;\n\n  formData = formDataFromLS;\n\n  const formDataKeys = Object.keys(formDataFromLS);\n  formDataKeys.forEach(key => (formFields[key].value = formData[key]));\n};\nonLoadFormField(refs.form);\n\nconst onFormFieldInput = ({ target }) => {\n  formData[target.name] = target.value.trim();\n  saveFormData(formData);\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  const { email, message } = event.target;\n\n  if (!email.value.trim() || !message.value.trim())\n    return alert('Fill please all fields');\n\n  console.log(formData);\n  localStorage.removeItem('feedback-form-state');\n  event.currentTarget.reset();\n};\n\nrefs.form.addEventListener('input', onFormFieldInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["refs","formData","saveFormData","data","error","loadFormData","onLoadFormField","formFields","formDataFromLS","key","onFormFieldInput","target","onFormSubmit","event","email","message"],"mappings":"oDAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEA,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAeC,GAAQ,CAC3B,GAAI,CACF,aAAa,QAAQ,sBAAuB,KAAK,UAAUA,CAAI,CAAC,CACjE,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEMC,EAAe,IAAM,CACzB,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAC9D,OAAQD,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEME,EAAkBC,GAAc,CACpC,MAAMC,EAAiBH,IAEvB,GAAI,CAACG,EAAgB,OAErBP,EAAWO,EAEU,OAAO,KAAKA,CAAc,EAClC,QAAQC,GAAQF,EAAWE,CAAG,EAAE,MAAQR,EAASQ,CAAG,CAAE,CACrE,EACAH,EAAgBN,EAAK,IAAI,EAEzB,MAAMU,EAAmB,CAAC,CAAE,OAAAC,KAAa,CACvCV,EAASU,EAAO,IAAI,EAAIA,EAAO,MAAM,OACrCT,EAAaD,CAAQ,CACvB,EAEMW,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAM,OAEjC,GAAI,CAACC,EAAM,MAAM,KAAM,GAAI,CAACC,EAAQ,MAAM,KAAM,EAC9C,OAAO,MAAM,wBAAwB,EAEvC,QAAQ,IAAId,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CY,EAAM,cAAc,OACtB,EAEAb,EAAK,KAAK,iBAAiB,QAASU,CAAgB,EACpDV,EAAK,KAAK,iBAAiB,SAAUY,CAAY"}